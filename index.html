<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1">&lt;meta charset="UTF-8"&gt;</p>
<p class="p1">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1">&lt;title&gt;FlipIQ Live â€” Deal Analyzer &amp; Watchlist&lt;/title&gt;</p>
<p class="p1">&lt;link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&amp;family=Fraunces:ital,wght@0,300;0,600;0,900;1,300&amp;family=DM+Sans:wght@300;400;500&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1">&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>:root {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>--bg: #0c0f0a; --surface: #141710; --surface2: #1c2019; --border: #2a2f26;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>--accent: #c8f060; --accent2: #f0a830; --accent3: #60c8f0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>--text: #e8ead4; --muted: #7a7f6a; --danger: #f06060; --success: #60f0a0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>* { box-sizing: border-box; margin: 0; padding: 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>body { background: var(--bg); color: var(--text); font-family: 'DM Sans', sans-serif; font-weight: 300; min-height: 100vh; overflow-x: hidden; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ HEADER â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>header {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>display: flex; align-items: center; justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>padding: 16px 36px; border-bottom: 1px solid var(--border);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>position: sticky; top: 0; background: rgba(12,15,10,0.95);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>backdrop-filter: blur(14px); z-index: 100;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.logo { font-family: 'Fraunces', serif; font-weight: 900; font-size: 1.5rem; color: var(--accent); letter-spacing: -1px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.logo em { color: var(--text); font-weight: 300; font-style: italic; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.header-right { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.api-pill { font-family: 'DM Mono', monospace; font-size: 0.58rem; padding: 3px 9px; border-radius: 2px; text-transform: uppercase; letter-spacing: 1px; border: 1px solid var(--border); color: var(--muted); transition: all 0.3s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.api-pill.connected { border-color: var(--success); color: var(--success); background: rgba(96,240,160,0.07); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.api-pill.error { border-color: var(--danger); color: var(--danger); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.api-pill.loading { border-color: var(--accent2); color: var(--accent2); animation: blink 1s infinite; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.4} }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ NAV TABS â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.nav-tabs { display: flex; border-bottom: 1px solid var(--border); background: var(--surface); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.nav-tab {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>font-family: 'DM Mono', monospace; font-size: 0.65rem; text-transform: uppercase;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>letter-spacing: 2px; padding: 13px 24px; cursor: pointer; color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>border-bottom: 2px solid transparent; transition: all 0.2s; position: relative;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>display: flex; align-items: center; gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.nav-tab:hover { color: var(--text); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.nav-tab.active { color: var(--accent); border-bottom-color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tab-badge {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>background: var(--accent); color: #0c0f0a; border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>padding: 1px 6px; font-size: 0.6rem; font-weight: 500; min-width: 18px; text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tab-badge.zero { background: var(--border); color: var(--muted); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ CONFIG BANNER â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.config-banner {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>background: var(--surface2); border-bottom: 1px solid var(--border);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>padding: 14px 36px; display: flex; gap: 14px; align-items: flex-end; flex-wrap: wrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.config-field { display: flex; flex-direction: column; gap: 4px; flex: 1; min-width: 180px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.config-label { font-family: 'DM Mono', monospace; font-size: 0.58rem; text-transform: uppercase; letter-spacing: 2px; color: var(--muted); display: flex; align-items: center; gap: 6px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.config-input { background: var(--surface); border: 1px solid var(--border); color: var(--text); padding: 7px 11px; font-family: 'DM Mono', monospace; font-size: 0.73rem; outline: none; width: 100%; transition: border-color 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.config-input:focus { border-color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.config-input.has-key { border-color: rgba(96,240,160,0.5); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.key-saved-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--success); display: inline-block; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ LAYOUT â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.page { display: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.page.active { display: block; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.app { display: grid; grid-template-columns: 330px 1fr; min-height: calc(100vh - 160px); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.sidebar { border-right: 1px solid var(--border); padding: 22px 18px; overflow-y: auto; max-height: calc(100vh - 160px); position: sticky; top: 160px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.main { padding: 26px 30px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.section-label { font-family: 'DM Mono', monospace; font-size: 0.58rem; text-transform: uppercase; letter-spacing: 3px; color: var(--muted); margin-bottom: 10px; margin-top: 22px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.section-label:first-child { margin-top: 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.input-group { margin-bottom: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>label { display: block; font-size: 0.7rem; color: var(--muted); margin-bottom: 4px; font-family: 'DM Mono', monospace; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>input, select, textarea { width: 100%; background: var(--surface2); border: 1px solid var(--border); color: var(--text); padding: 8px 11px; font-family: 'DM Sans', sans-serif; font-size: 0.82rem; outline: none; transition: border-color 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>input:focus, select:focus, textarea:focus { border-color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>select option { background: var(--surface2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.range-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.btn-primary { width: 100%; background: var(--accent); color: #0c0f0a; border: none; padding: 12px; font-family: 'DM Mono', monospace; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px; cursor: pointer; margin-top: 18px; font-weight: 500; transition: all 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.btn-primary:hover { background: #d8ff70; transform: translateY(-1px); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.btn-primary:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.btn-ghost { background: none; border: 1px solid var(--border); color: var(--muted); padding: 7px 14px; font-family: 'DM Mono', monospace; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 1px; cursor: pointer; transition: all 0.15s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.btn-ghost:hover { border-color: var(--accent); color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.btn-danger { background: none; border: 1px solid rgba(240,96,96,0.3); color: var(--danger); padding: 7px 14px; font-family: 'DM Mono', monospace; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 1px; cursor: pointer; transition: all 0.15s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.btn-danger:hover { background: rgba(240,96,96,0.1); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ STATS BAR â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.stats-bar { display: grid; grid-template-columns: repeat(5,1fr); gap: 1px; background: var(--border); border: 1px solid var(--border); margin-bottom: 22px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.stat-cell { background: var(--surface); padding: 15px 17px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.stat-value { font-family: 'Fraunces', serif; font-size: 1.45rem; font-weight: 600; color: var(--accent); line-height: 1; margin-bottom: 3px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.stat-label { font-size: 0.62rem; color: var(--muted); font-family: 'DM Mono', monospace; text-transform: uppercase; letter-spacing: 1px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ SOURCE BADGE â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.source-badge { font-size: 0.56rem; font-family: 'DM Mono', monospace; padding: 2px 5px; border-radius: 1px; text-transform: uppercase; letter-spacing: 1px; background: rgba(96,200,240,0.1); color: var(--accent3); border: 1px solid rgba(96,200,240,0.22); display: inline-block; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ PROPERTY CARDS â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.results-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; gap: 10px; flex-wrap: wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.results-title { font-family: 'Fraunces', serif; font-size: 0.95rem; font-weight: 300; font-style: italic; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.sort-select { width: auto; font-size: 0.7rem; padding: 5px 8px; font-family: 'DM Mono', monospace; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.property-grid { display: grid; gap: 1px; background: var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.property-card { background: var(--surface); padding: 18px 20px; display: grid; grid-template-columns: 1fr auto; gap: 12px; cursor: pointer; transition: background 0.15s; border-left: 3px solid transparent; animation: slideIn 0.3s ease both; position: relative; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.property-card:hover { background: var(--surface2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.property-card.hot { border-left-color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.property-card.warm { border-left-color: var(--accent2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.property-card.cold { border-left-color: var(--muted); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.property-card.watched { outline: 1px solid rgba(200,240,96,0.25); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>@keyframes slideIn { from{opacity:0;transform:translateX(-8px)} to{opacity:1;transform:translateX(0)} }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.prop-address { font-family: 'Fraunces', serif; font-size: 0.93rem; font-weight: 600; margin-bottom: 3px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.prop-meta { font-size: 0.7rem; color: var(--muted); font-family: 'DM Mono', monospace; display: flex; gap: 10px; margin-bottom: 9px; flex-wrap: wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.prop-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 7px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag { font-size: 0.56rem; font-family: 'DM Mono', monospace; text-transform: uppercase; letter-spacing: 1px; padding: 2px 6px; border-radius: 1px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag-foreclosure { background: rgba(240,168,48,0.15); color: var(--accent2); border: 1px solid rgba(240,168,48,0.3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag-shortsale { background: rgba(240,96,96,0.15); color: var(--danger); border: 1px solid rgba(240,96,96,0.3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag-pricedrop { background: rgba(96,240,160,0.12); color: var(--success); border: 1px solid rgba(96,240,160,0.3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag-highvacancy { background: rgba(96,200,240,0.12); color: var(--accent3); border: 1px solid rgba(96,200,240,0.25); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag-lowincome { background: rgba(200,240,96,0.1); color: var(--accent); border: 1px solid rgba(200,240,96,0.2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag-newlisting { background: rgba(200,200,200,0.1); color: #aaa; border: 1px solid rgba(200,200,200,0.2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.tag-watched { background: rgba(200,240,96,0.12); color: var(--accent); border: 1px solid rgba(200,240,96,0.35); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watch-btn {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>position: absolute; top: 14px; right: 14px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>background: none; border: 1px solid var(--border); color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>width: 28px; height: 28px; cursor: pointer; font-size: 0.85rem;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>display: flex; align-items: center; justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>transition: all 0.15s; border-radius: 2px; z-index: 2;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watch-btn:hover { border-color: var(--accent); color: var(--accent); background: rgba(200,240,96,0.08); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watch-btn.active { border-color: var(--accent); color: var(--accent); background: rgba(200,240,96,0.12); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.score-bar { display: flex; align-items: center; gap: 7px; font-size: 0.61rem; font-family: 'DM Mono', monospace; color: var(--muted); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.score-track { flex:1; height:3px; background:var(--border); border-radius:2px; overflow:hidden; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.score-fill { height:100%; background: linear-gradient(90deg, var(--accent2), var(--accent)); border-radius:2px; transition: width 0.6s ease; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.prop-numbers { text-align: right; min-width: 115px; padding-right: 24px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.prop-price { font-family: 'Fraunces', serif; font-size: 1.15rem; font-weight: 600; margin-bottom: 3px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.prop-arv { font-size: 0.66rem; color: var(--muted); font-family: 'DM Mono', monospace; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.prop-roi { margin-top: 6px; font-family: 'DM Mono', monospace; font-size: 0.8rem; font-weight: 500; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.roi-positive { color: var(--success); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.roi-neutral { color: var(--accent2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.roi-negative { color: var(--danger); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ WATCHLIST PAGE â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watchlist-page { padding: 28px 32px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watchlist-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watchlist-title { font-family: 'Fraunces', serif; font-size: 1.4rem; font-weight: 300; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watchlist-title em { font-style: italic; color: var(--accent); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-cols { display: grid; grid-template-columns: repeat(5, 1fr); gap: 1px; background: var(--border); border: 1px solid var(--border); margin-bottom: 28px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-col { background: var(--surface); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-col-header { padding: 10px 14px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-col-name { font-family: 'DM Mono', monospace; font-size: 0.62rem; text-transform: uppercase; letter-spacing: 2px; color: var(--muted); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-count { font-family: 'DM Mono', monospace; font-size: 0.65rem; color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-cards { padding: 10px; display: flex; flex-direction: column; gap: 8px; min-height: 60px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-mini {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>background: var(--surface2); border: 1px solid var(--border); padding: 10px 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer; transition: all 0.15s; border-left: 2px solid transparent;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-mini:hover { border-color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-mini.hot { border-left-color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-mini.warm { border-left-color: var(--accent2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-mini-addr { font-size: 0.75rem; font-weight: 500; margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-mini-meta { font-family: 'DM Mono', monospace; font-size: 0.6rem; color: var(--muted); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.pipeline-mini-roi { font-family: 'DM Mono', monospace; font-size: 0.65rem; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watched-list { display: grid; gap: 1px; background: var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watched-card {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>background: var(--surface); padding: 18px 22px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>display: grid; grid-template-columns: 1fr auto auto; gap: 16px; align-items: start;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>animation: slideIn 0.25s ease both;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watched-card:hover { background: var(--surface2); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-addr { font-family: 'Fraunces', serif; font-size: 0.92rem; font-weight: 600; margin-bottom: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-meta { font-family: 'DM Mono', monospace; font-size: 0.68rem; color: var(--muted); display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-numbers { text-align: right; min-width: 100px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-price { font-family: 'Fraunces', serif; font-size: 1.05rem; font-weight: 600; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-roi { font-family: 'DM Mono', monospace; font-size: 0.75rem; margin-top: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-actions { display: flex; flex-direction: column; gap: 6px; min-width: 110px; align-items: flex-end; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.stage-select {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>background: var(--surface2); border: 1px solid var(--border); color: var(--text);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>padding: 4px 8px; font-family: 'DM Mono', monospace; font-size: 0.62rem;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>outline: none; cursor: pointer; width: 110px;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.stage-select:focus { border-color: var(--accent); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-note-preview { font-size: 0.72rem; color: var(--muted); font-style: italic; max-width: 300px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-saved-date { font-family: 'DM Mono', monospace; font-size: 0.58rem; color: var(--muted); margin-top: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wc-price-change { font-family: 'DM Mono', monospace; font-size: 0.62rem; margin-top: 2px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.price-up { color: var(--danger); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.price-down { color: var(--success); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-watchlist { text-align: center; padding: 80px 40px; color: var(--muted); border: 1px dashed var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-watchlist .ei { font-size: 2.5rem; margin-bottom: 14px; opacity: 0.4; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-watchlist h3 { font-family: 'Fraunces', serif; font-size: 1.1rem; font-style: italic; margin-bottom: 8px; color: var(--text); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ DETAIL PANEL â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-overlay { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.78); z-index:200; backdrop-filter:blur(5px); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-overlay.open { display:flex; align-items:center; justify-content:center; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-panel { background:var(--surface); border:1px solid var(--border); width:740px; max-width:96vw; max-height:91vh; overflow-y:auto; animation:panelIn 0.2s ease; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>@keyframes panelIn { from{opacity:0;transform:scale(0.97) translateY(8px)} to{opacity:1;transform:scale(1) translateY(0)} }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-header { padding:20px 24px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-address { font-family:'Fraunces',serif; font-size:1.25rem; font-weight:600; margin-bottom:4px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-header-actions { display:flex; gap:8px; align-items:center; flex-shrink:0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.close-btn { background:none; border:1px solid var(--border); color:var(--muted); width:30px; height:30px; cursor:pointer; font-size:0.9rem; display:flex; align-items:center; justify-content:center; transition:all 0.15s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.close-btn:hover { border-color:var(--accent); color:var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watch-toggle-btn { background:none; border:1px solid var(--border); color:var(--muted); padding:6px 12px; font-family:'DM Mono',monospace; font-size:0.62rem; text-transform:uppercase; letter-spacing:1px; cursor:pointer; transition:all 0.15s; white-space:nowrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watch-toggle-btn:hover { border-color:var(--accent); color:var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.watch-toggle-btn.watching { border-color:var(--accent); color:var(--accent); background:rgba(200,240,96,0.1); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-body { padding:22px 24px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-bottom:20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-metric { background:var(--surface2); border:1px solid var(--border); padding:13px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.dm-label { font-size:0.58rem; font-family:'DM Mono',monospace; color:var(--muted); text-transform:uppercase; letter-spacing:2px; margin-bottom:4px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.dm-value { font-family:'Fraunces',serif; font-size:1.25rem; font-weight:600; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.dm-sub { font-size:0.65rem; color:var(--muted); margin-top:3px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.section-title { font-family:'Fraunces',serif; font-size:0.85rem; font-weight:600; font-style:italic; margin-bottom:9px; color:var(--accent); display:flex; align-items:center; gap:8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.waterfall { display:flex; flex-direction:column; border:1px solid var(--border); margin-bottom:18px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wf-row { display:flex; align-items:center; padding:8px 13px; font-size:0.78rem; border-bottom:1px solid rgba(42,47,38,0.35); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wf-row:last-child { border-bottom:none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wf-label { flex:1; font-family:'DM Mono',monospace; color:var(--muted); font-size:0.65rem; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wf-row.profit { background:rgba(96,240,160,0.06); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.wf-row.profit .wf-value { color:var(--success); font-family:'Fraunces',serif; font-size:1rem; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.rehab-table { width:100%; border-collapse:collapse; margin-bottom:18px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.rehab-table th { font-family:'DM Mono',monospace; font-size:0.58rem; text-transform:uppercase; letter-spacing:2px; color:var(--muted); text-align:left; padding:6px 9px; border-bottom:1px solid var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.rehab-table td { padding:8px 9px; font-size:0.78rem; border-bottom:1px solid rgba(42,47,38,0.35); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.rehab-table .total-row td { font-family:'DM Mono',monospace; font-weight:500; color:var(--accent); border-top:1px solid var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.census-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:9px; margin-bottom:18px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.census-cell { background:var(--surface2); border:1px solid var(--border); padding:11px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.notes-area { width:100%; background:var(--surface2); border:1px solid var(--border); color:var(--text); padding:9px; font-family:'DM Sans',sans-serif; font-size:0.78rem; resize:vertical; min-height:65px; outline:none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.notes-area:focus { border-color:var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.detail-footer { display:flex; gap:8px; align-items:center; margin-top:9px; flex-wrap:wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.save-btn { background:none; border:1px solid var(--accent); color:var(--accent); padding:8px 16px; font-family:'DM Mono',monospace; font-size:0.62rem; text-transform:uppercase; letter-spacing:2px; cursor:pointer; transition:all 0.15s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.save-btn:hover { background:var(--accent); color:#0c0f0a; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ LOADING / EMPTY â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.loading-state { text-align:center; padding:60px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.loader { width:38px; height:38px; border:2px solid var(--border); border-top-color:var(--accent); border-radius:50%; animation:spin 0.75s linear infinite; margin:0 auto 14px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>@keyframes spin { to{transform:rotate(360deg)} }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.loading-text { font-family:'DM Mono',monospace; font-size:0.7rem; color:var(--muted); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.loading-steps { margin-top:10px; display:flex; flex-direction:column; gap:5px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.loading-step { font-size:0.66rem; font-family:'DM Mono',monospace; color:var(--muted); opacity:0.5; transition:opacity 0.3s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.loading-step.active { opacity:1; color:var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.loading-step.done { opacity:0.7; color:var(--success); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-state { text-align:center; padding:65px 40px; color:var(--muted); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-icon { font-size:2.4rem; margin-bottom:12px; opacity:0.35; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-title { font-family:'Fraunces',serif; font-size:1.05rem; font-style:italic; margin-bottom:7px; color:var(--text); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-sub { font-size:0.78rem; line-height:1.7; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.empty-sub a { color:var(--accent3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.error-banner { background:rgba(240,96,96,0.1); border:1px solid rgba(240,96,96,0.3); color:var(--danger); padding:12px 16px; font-size:0.78rem; margin-bottom:14px; font-family:'DM Mono',monospace; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>/* â”€â”€ TOAST â”€â”€ */</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.toast { position:fixed; bottom:24px; right:24px; background:var(--surface2); border:1px solid var(--border); padding:12px 18px; font-family:'DM Mono',monospace; font-size:0.7rem; color:var(--text); z-index:500; animation:toastIn 0.2s ease; display:flex; align-items:center; gap:10px; max-width:320px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.toast.success { border-color:rgba(96,240,160,0.4); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>.toast.error { border-color:rgba(240,96,96,0.4); color:var(--danger); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>@keyframes toastIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>@media(max-width:900px) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.app { grid-template-columns:1fr; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.sidebar { position:static; max-height:none; border-right:none; border-bottom:1px solid var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stats-bar { grid-template-columns:repeat(2,1fr); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.detail-grid,.census-grid { grid-template-columns:1fr; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.pipeline-cols { grid-template-columns:repeat(2,1fr); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.watched-card { grid-template-columns:1fr auto; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.wc-numbers { display:none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="logo"&gt;Flip&lt;em&gt;IQ&lt;/em&gt; &lt;span style="font-size:0.62rem;color:var(--muted);font-family:'DM Mono',monospace;vertical-align:middle;margin-left:4px"&gt;Live&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="header-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div style="display:flex;gap:7px"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="api-pill" id="pill-rentcast"&gt;RentCast&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="api-pill connected" id="pill-census"&gt;Census âœ“&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="api-pill" id="pill-google"&gt;Maps&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- API CONFIG --&gt;</p>
<p class="p1">&lt;div class="config-banner"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="config-field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="config-label"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>RentCast API Key</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;span id="rc-saved-dot" style="display:none"&gt;&lt;span class="key-saved-dot"&gt;&lt;/span&gt; saved&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;a href="https://app.rentcast.io/app/api-keys" target="_blank" style="color:var(--accent3);font-size:0.58rem;margin-left:4px"&gt;â†’ get free key&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;input class="config-input" type="password" id="key-rentcast" placeholder="rc_live_xxxxxxxxxxxx" oninput="onKeyInput('rentcast',this)" autocomplete="off"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="config-field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="config-label"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>Google Maps API Key</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;span id="gm-saved-dot" style="display:none"&gt;&lt;span class="key-saved-dot"&gt;&lt;/span&gt; saved&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;a href="https://console.cloud.google.com/google/maps-apis/" target="_blank" style="color:var(--accent3);font-size:0.58rem;margin-left:4px"&gt;â†’ get free key&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;input class="config-input" type="password" id="key-google" placeholder="AIzaSy... (optional)" oninput="onKeyInput('google',this)" autocomplete="off"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="config-field" style="max-width:240px"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="config-label"&gt;Census API Key &lt;span style="color:var(--success);font-size:0.56rem"&gt;(free, no key required)&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;input class="config-input" type="password" id="key-census" placeholder="Optional â€” leave blank" oninput="onKeyInput('census',this)" autocomplete="off"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- TABS --&gt;</p>
<p class="p1">&lt;div class="nav-tabs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="nav-tab active" id="tab-search" onclick="switchTab('search')"&gt;âŸ¶ Deal Search&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="nav-tab" id="tab-watchlist" onclick="switchTab('watchlist')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>â—ˆ Watchlist</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;span class="tab-badge zero" id="watchlist-count"&gt;0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- SEARCH PAGE --&gt;</p>
<p class="p1">&lt;div class="page active" id="page-search"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="app"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;aside class="sidebar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-label"&gt;Location&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label&gt;City, State or ZIP Code&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;input type="text" id="location" placeholder="e.g. 48201 or Detroit, MI"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-label"&gt;Price Range&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="range-row"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;&lt;label&gt;Min ($)&lt;/label&gt;&lt;input type="number" id="minPrice" value="50000"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;&lt;label&gt;Max ($)&lt;/label&gt;&lt;input type="number" id="maxPrice" value="300000"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-label"&gt;Deal Criteria&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;&lt;label&gt;Min ROI %&lt;/label&gt;&lt;input type="number" id="minROI" value="20"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;&lt;label&gt;Max Rehab Budget ($)&lt;/label&gt;&lt;input type="number" id="maxRehab" value="75000"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label&gt;Min Beds&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;select id="minBeds"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="0"&gt;Any&lt;/option&gt;&lt;option value="2" selected&gt;2+&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="3"&gt;3+&lt;/option&gt;&lt;option value="4"&gt;4+&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label&gt;Listing Type&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;select id="listingType"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="all"&gt;All Active Listings&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="foreclosure"&gt;Foreclosures Only&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="short_sale"&gt;Short Sales Only&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;&lt;label&gt;Max Days on Market&lt;/label&gt;&lt;input type="number" id="maxDOM" value="120"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label&gt;Results Limit&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;select id="resultLimit"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="10"&gt;10 (conserve API calls)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="25" selected&gt;25&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="50"&gt;50&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-label"&gt;Rehab Estimator&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label&gt;Rehab Level&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;select id="rehabMethod"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="light"&gt;Light (~$20/sqft)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="medium" selected&gt;Medium (~$40/sqft)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="heavy"&gt;Heavy (~$65/sqft)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;option value="full"&gt;Full Gut (~$100/sqft)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;button class="btn-primary" id="searchBtn" onclick="runSearch()"&gt;âŸ¶ Analyze Deals&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div style="margin-top:9px;font-size:0.62rem;color:var(--muted);font-family:'DM Mono',monospace;text-align:center;line-height:1.6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>Requires RentCast key.&lt;br&gt;Census data loads free automatically.</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/aside&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;main class="main" id="mainContent"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="empty-state"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="empty-icon"&gt;ğŸš&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="empty-title"&gt;Enter your API keys &amp; search&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="empty-sub"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>Add your &lt;strong style="color:var(--accent)"&gt;RentCast&lt;/strong&gt; key above â€” it's remembered automatically.&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;strong style="color:var(--accent3)"&gt;Census ACS&lt;/strong&gt; data loads for free with every search.&lt;br&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>RentCast free key: &lt;a href="https://app.rentcast.io/app/api-keys" target="_blank"&gt;app.rentcast.io&lt;/a&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>Google Maps free key: &lt;a href="https://console.cloud.google.com" target="_blank"&gt;console.cloud.google.com&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- WATCHLIST PAGE --&gt;</p>
<p class="p1">&lt;div class="page" id="page-watchlist"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="watchlist-page"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="watchlist-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="watchlist-title"&gt;Your &lt;em&gt;Watchlist&lt;/em&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="font-size:0.72rem;color:var(--muted);font-family:'DM Mono',monospace;margin-top:4px"&gt;Saved properties tracked by pipeline stage&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;button class="btn-ghost" onclick="clearWatchlist()" id="clearWatchBtn" style="display:none"&gt;Clear All&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="pipelineView"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="watchlistContent"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- DETAIL OVERLAY --&gt;</p>
<p class="p1">&lt;div class="detail-overlay" id="detailOverlay" onclick="closeDetail(event)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="detail-panel" id="detailPanel"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">// â”€â”€â”€ STORAGE KEYS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">const LS_KEYS = 'flipiq_apikeys';</p>
<p class="p1">const LS_WATCH = 'flipiq_watchlist';</p>
<p class="p1">const LS_FILTERS = 'flipiq_filters';</p>
<p class="p1">const LS_SEARCH = 'flipiq_lastlocation';</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">const KEYS = { rentcast: '', google: '', census: '' };</p>
<p class="p1">let currentProps = [];</p>
<p class="p1">let watchlist = {};<span class="Apple-converted-space">Â  Â  </span>// keyed by property id/address</p>
<p class="p1">let censusCache = {};</p>
<p class="p1">let detailPropRef = null; // track which prop is open in detail</p>
<p class="p2"><br></p>
<p class="p1">const PIPELINE_STAGES = ['Researching', 'Offer Pending', 'Under Contract', 'Passed', 'Acquired'];</p>
<p class="p1">const REHAB_RATES = { light: 20, medium: 40, heavy: 65, full: 100 };</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">(function init() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Load saved API keys</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const saved = JSON.parse(localStorage.getItem(LS_KEYS) || '{}');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (saved.rentcast) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>KEYS.rentcast = saved.rentcast;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const el = document.getElementById('key-rentcast');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.value = saved.rentcast;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.classList.add('has-key');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('rc-saved-dot').style.display = 'inline-flex';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>updatePill('rentcast', 'connected');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (saved.google) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>KEYS.google = saved.google;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const el = document.getElementById('key-google');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.value = saved.google;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.classList.add('has-key');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('gm-saved-dot').style.display = 'inline-flex';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>updatePill('google', 'connected');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (saved.census) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>KEYS.census = saved.census;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('key-census').value = saved.census;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch(e) {}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Load saved last location</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const lastLoc = localStorage.getItem(LS_SEARCH);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (lastLoc) document.getElementById('location').value = lastLoc;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Load saved filters</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const f = JSON.parse(localStorage.getItem(LS_FILTERS) || '{}');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.minPrice) document.getElementById('minPrice').value = f.minPrice;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.maxPrice) document.getElementById('maxPrice').value = f.maxPrice;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.minROI) document.getElementById('minROI').value = f.minROI;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.maxRehab) document.getElementById('maxRehab').value = f.maxRehab;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.minBeds) document.getElementById('minBeds').value = f.minBeds;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.maxDOM) document.getElementById('maxDOM').value = f.maxDOM;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.rehabMethod) document.getElementById('rehabMethod').value = f.rehabMethod;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.listingType) document.getElementById('listingType').value = f.listingType;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (f.resultLimit) document.getElementById('resultLimit').value = f.resultLimit;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch(e) {}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Load watchlist</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>watchlist = JSON.parse(localStorage.getItem(LS_WATCH) || '{}');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch(e) { watchlist = {}; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateWatchlistBadge();</p>
<p class="p1">})();</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ KEY INPUT HANDLER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function onKeyInput(service, el) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>KEYS[service] = el.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>el.classList.toggle('has-key', !!el.value.trim());</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updatePill(service, el.value.trim() ? 'connected' : '');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Auto-save keys to localStorage</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const saved = JSON.parse(localStorage.getItem(LS_KEYS) || '{}');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>saved[service] = el.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem(LS_KEYS, JSON.stringify(saved));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch(e) {}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (service === 'rentcast') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const dot = document.getElementById('rc-saved-dot');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>dot.style.display = el.value.trim() ? 'inline-flex' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (service === 'google') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const dot = document.getElementById('gm-saved-dot');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>dot.style.display = el.value.trim() ? 'inline-flex' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function updatePill(service, state) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const pill = document.getElementById('pill-' + service);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!pill) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>pill.className = 'api-pill' + (state ? ' ' + state : '');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (state === 'connected') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const labels = { rentcast:'RentCast âœ“', google:'Maps âœ“', census:'Census âœ“' };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>pill.textContent = labels[service] || service;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const labels = { rentcast:'RentCast', google:'Maps', census:'Census' };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>pill.textContent = labels[service] || service;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ FILTER PERSISTENCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function saveFilters() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const f = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>minPrice: document.getElementById('minPrice').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>maxPrice: document.getElementById('maxPrice').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>minROI: document.getElementById('minROI').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>maxRehab: document.getElementById('maxRehab').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>minBeds: document.getElementById('minBeds').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>maxDOM: document.getElementById('maxDOM').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>rehabMethod: document.getElementById('rehabMethod').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>listingType: document.getElementById('listingType').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>resultLimit: document.getElementById('resultLimit').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>localStorage.setItem(LS_FILTERS, JSON.stringify(f));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>localStorage.setItem(LS_SEARCH, document.getElementById('location').value);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ WATCHLIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function propId(p) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return (p.id || p.formattedAddress || p.addressLine1 || 'prop-' + p.price).replace(/\s+/g, '-').toLowerCase();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function isWatched(p) { return !!watchlist[propId(p)]; }</p>
<p class="p2"><br></p>
<p class="p1">function toggleWatch(p, fromDetail) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const id = propId(p);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (watchlist[id]) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>delete watchlist[id];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showToast('Removed from watchlist', 'success');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>watchlist[id] = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>...p,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>_id: id,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>_savedAt: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>_savedPrice: p.price,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>_stage: 'Researching',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>notes: p.notes || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showToast('Added to watchlist â—ˆ', 'success');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>localStorage.setItem(LS_WATCH, JSON.stringify(watchlist));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateWatchlistBadge();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Refresh card UI without full re-render</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const card = document.querySelector(`[data-propid="${id}"]`);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (card) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const btn = card.querySelector('.watch-btn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (btn) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>btn.classList.toggle('active', isWatched(p));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>btn.title = isWatched(p) ? 'Remove from watchlist' : 'Watch this property';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>btn.innerHTML = isWatched(p) ? 'â˜…' : 'â˜†';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>card.classList.toggle('watched', isWatched(p));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (fromDetail) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Update the watch toggle button in detail panel</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const wtBtn = document.getElementById('detail-watch-btn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (wtBtn) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>wtBtn.className = isWatched(p) ? 'watch-toggle-btn watching' : 'watch-toggle-btn';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>wtBtn.textContent = isWatched(p) ? 'â˜… Watching' : 'â˜† Add to Watchlist';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// If we're on watchlist tab, refresh it</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (document.getElementById('page-watchlist').classList.contains('active')) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>renderWatchlist();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function updateStage(id, stage) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (watchlist[id]) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>watchlist[id]._stage = stage;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem(LS_WATCH, JSON.stringify(watchlist));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>renderWatchlist(); // re-render pipeline</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function removeFromWatchlist(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>delete watchlist[id];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>localStorage.setItem(LS_WATCH, JSON.stringify(watchlist));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateWatchlistBadge();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderWatchlist();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showToast('Removed from watchlist');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function clearWatchlist() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!confirm('Remove all saved properties from your watchlist?')) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>watchlist = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>localStorage.setItem(LS_WATCH, JSON.stringify(watchlist));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateWatchlistBadge();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderWatchlist();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function updateWatchlistBadge() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const count = Object.keys(watchlist).length;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const badge = document.getElementById('watchlist-count');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>badge.textContent = count;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>badge.className = 'tab-badge' + (count === 0 ? ' zero' : '');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const clearBtn = document.getElementById('clearWatchBtn');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (clearBtn) clearBtn.style.display = count &gt; 0 ? '' : 'none';</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function saveWatchlistNotes(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const ta = document.getElementById('wl-notes-' + id);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (ta &amp;&amp; watchlist[id]) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>watchlist[id].notes = ta.value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem(LS_WATCH, JSON.stringify(watchlist));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showToast('Notes saved âœ“', 'success');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ TAB SWITCHING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function switchTab(tab) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.querySelectorAll('.page').forEach(p =&gt; p.classList.remove('active'));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.querySelectorAll('.nav-tab').forEach(t =&gt; t.classList.remove('active'));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('page-' + tab).classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('tab-' + tab).classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (tab === 'watchlist') renderWatchlist();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ RENDER WATCHLIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function renderWatchlist() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateWatchlistBadge();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const clearBtn = document.getElementById('clearWatchBtn');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (clearBtn) clearBtn.style.display = Object.keys(watchlist).length &gt; 0 ? '' : 'none';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const items = Object.values(watchlist);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const pipelineEl = document.getElementById('pipelineView');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const listEl = document.getElementById('watchlistContent');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (items.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>pipelineEl.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>listEl.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="empty-watchlist"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="ei"&gt;â—ˆ&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h3&gt;Your watchlist is empty&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;p&gt;Search for deals and click the â˜† star icon on any property to save it here for monitoring.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Pipeline view</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const byStage = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>PIPELINE_STAGES.forEach(s =&gt; { byStage[s] = []; });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>items.forEach(p =&gt; { const s = p._stage || 'Researching'; if (byStage[s]) byStage[s].push(p); });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>pipelineEl.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div style="font-family:'DM Mono',monospace;font-size:0.6rem;text-transform:uppercase;letter-spacing:3px;color:var(--muted);margin-bottom:12px"&gt;Pipeline Overview&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="pipeline-cols"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>${PIPELINE_STAGES.map(stage =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="pipeline-col"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="pipeline-col-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="pipeline-col-name"&gt;${stage}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="pipeline-count"&gt;${byStage[stage].length}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="pipeline-cards"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>${byStage[stage].map(p =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>const roiCls = p.roi &gt;= 35 ? 'roi-positive' : p.roi &gt;= 20 ? 'roi-neutral' : 'roi-negative';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>const addr = (p.formattedAddress || p.addressLine1 || 'Unknown').split(',')[0];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>return `&lt;div class="pipeline-mini ${p.heat||''}" onclick='openWatchedDetail("${p._id}")'&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="pipeline-mini-addr"&gt;${addr}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="pipeline-mini-meta"&gt;$${(p.price||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="pipeline-mini-roi ${roiCls}"&gt;${(p.roi||0).toFixed(1)}% ROI&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}).join('')}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Full list</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>listEl.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div style="font-family:'DM Mono',monospace;font-size:0.6rem;text-transform:uppercase;letter-spacing:3px;color:var(--muted);margin-bottom:12px;margin-top:8px"&gt;All Saved Properties&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="watched-list"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>${items.sort((a,b) =&gt; new Date(b._savedAt) - new Date(a._savedAt)).map(p =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const roiCls = p.roi &gt;= 35 ? 'roi-positive' : p.roi &gt;= 20 ? 'roi-neutral' : 'roi-negative';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const addr = p.formattedAddress || p.addressLine1 || 'Unknown';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const savedDate = new Date(p._savedAt).toLocaleDateString('en-US', {month:'short',day:'numeric',year:'numeric'});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const priceChange = p._savedPrice &amp;&amp; p.price !== p._savedPrice</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>? `&lt;div class="wc-price-change ${p.price &gt; p._savedPrice ? 'price-up' : 'price-down'}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>${p.price &gt; p._savedPrice ? 'â–²' : 'â–¼'} $${Math.abs(p.price - p._savedPrice).toLocaleString()} since saved</p>
<p class="p1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;` : '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="watched-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="wc-addr" style="cursor:pointer" onclick='openWatchedDetail("${p._id}")'&gt;${addr}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="wc-meta"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;span&gt;${p.bedrooms||'?'}bd/${p.bathrooms||'?'}ba&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>${p.squareFootage ? `&lt;span&gt;${p.squareFootage.toLocaleString()} sqft&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;span&gt;${p.daysOnMarket??'?'} DOM&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>${p._stage ? `&lt;span class="tag tag-watched"&gt;${p._stage}&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>${p.notes ? `&lt;div class="wc-note-preview"&gt;ğŸ“ ${p.notes}&lt;/div&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="wc-saved-date"&gt;Saved ${savedDate}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="wc-numbers"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="wc-price"&gt;$${(p.price||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="wc-roi ${roiCls}"&gt;${(p.roi||0).toFixed(1)}% ROI&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="prop-arv" style="font-size:0.63rem"&gt;+$${fmtK(p.netProfit||0)} profit&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>${priceChange}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="wc-actions"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;select class="stage-select" onchange="updateStage('${p._id}', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>${PIPELINE_STAGES.map(s =&gt; `&lt;option value="${s}" ${p._stage===s?'selected':''}&gt;${s}&lt;/option&gt;`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-ghost" style="font-size:0.6rem;padding:5px 10px" onclick='openWatchedDetail("${p._id}")'&gt;View&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-danger" style="font-size:0.6rem;padding:5px 10px" onclick="removeFromWatchlist('${p._id}')"&gt;Remove&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}).join('')}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function openWatchedDetail(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const p = watchlist[id];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (p) openDetailForProp(p, true);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ CENSUS &amp; GEOCODE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">async function getCensusData(zip) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (censusCache[zip]) return censusCache[zip];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const keyPart = KEYS.census ? `&amp;key=${KEYS.census}` : '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const url = `https://api.census.gov/data/2023/acs/acs5?get=B25002_001E,B25002_003E,B19013_001E&amp;for=zip+code+tabulation+area:${zip}${keyPart}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const res = await fetch(url);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!res.ok) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const data = await res.json();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!data || data.length &lt; 2) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const row = data[1];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const total = parseInt(row[0]), vacant = parseInt(row[1]), income = parseInt(row[2]);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const result = { vacancyRate: total &gt; 0 ? parseFloat((vacant/total*100).toFixed(1)) : null, medianIncome: income, totalUnits: total, vacantUnits: vacant };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>censusCache[zip] = result;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return result;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch(e) { return null; }</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function extractZip(loc) { const m = (loc||'').match(/\b(\d{5})\b/); return m ? m[1] : null; }</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ RENTCAST CALLS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">async function fetchListings(location, filters) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!KEYS.rentcast) throw new Error('No RentCast API key');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const headers = { 'X-Api-Key': KEYS.rentcast };</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const params = new URLSearchParams();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const zip = extractZip(location);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (zip) { params.set('zipCode', zip); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const parts = location.split(',').map(s =&gt; s.trim());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>params.set('city', parts[0]);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (parts[1]) params.set('state', parts[1].split(' ')[0]);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>params.set('status', 'Active');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>params.set('propertyType', 'Single Family');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (filters.minPrice &amp;&amp; filters.maxPrice) params.set('price', `${filters.minPrice}:${filters.maxPrice}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (filters.minPrice) params.set('price', `${filters.minPrice}:`);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (filters.maxPrice) params.set('price', `:${filters.maxPrice}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (filters.minBeds &gt; 0) params.set('bedrooms', `${filters.minBeds}:`);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (filters.listingType === 'foreclosure') params.set('listingType', 'Foreclosure');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (filters.listingType === 'short_sale') params.set('listingType', 'Short Sale');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>params.set('limit', filters.limit || 25);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = `https://api.rentcast.io/v1/listings/sale?${params}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const res = await fetch(url, { headers });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (res.status === 401) throw new Error('Invalid RentCast API key. Check your key and try again.');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (res.status === 429) throw new Error('RentCast rate limit reached. Free plan: 50 calls/month.');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!res.ok) { const t = await res.text(); throw new Error(`RentCast ${res.status}: ${t}`); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return res.json();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function fetchMarketData(zip) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!KEYS.rentcast || !zip) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const res = await fetch(`https://api.rentcast.io/v1/markets?zipCode=${zip}&amp;dataType=Sale`, { headers: { 'X-Api-Key': KEYS.rentcast } });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return res.ok ? res.json() : null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch(e) { return null; }</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ DEAL CALC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function estimateRehab(sqft, method) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const rate = REHAB_RATES[method] || 40;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const base = (sqft || 1200) * rate;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return [</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Structural / Foundation', cost: Math.round(base * 0.08) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Roof / Exterior', cost: Math.round(base * 0.12) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Kitchen', cost: Math.round(base * 0.18) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Bath(s)', cost: Math.round(base * 0.12) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'HVAC / Plumbing / Electric', cost: Math.round(base * 0.20) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Flooring', cost: Math.round(base * 0.10) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Paint &amp; Finishes', cost: Math.round(base * 0.07) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Landscaping / Curb Appeal', cost: Math.round(base * 0.05) },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>{ name: 'Contingency (8%)', cost: Math.round(base * 0.08) },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>];</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function calcDeal(price, arv, rehabItems) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const rehabTotal = rehabItems.reduce((s,i) =&gt; s+i.cost, 0);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const holdingCosts = Math.round(price * 0.03);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const closingBuy = Math.round(price * 0.02);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const closingSell = Math.round(arv * 0.06);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const totalInvested = price + rehabTotal + holdingCosts + closingBuy;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const netProfit = arv - totalInvested - closingSell;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const roi = totalInvested &gt; 0 ? netProfit / totalInvested * 100 : 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return { rehabTotal, rehabItems, holdingCosts, closingBuy, closingSell, totalInvested, netProfit, roi, arv };</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function calcScore(listing, deal, census) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>let score = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (deal.roi &gt;= 40) score += 35; else if (deal.roi &gt;= 25) score += 25; else if (deal.roi &gt;= 15) score += 15; else if (deal.roi &gt; 0) score += 5;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const spread = deal.arv &gt; 0 ? (deal.arv - listing.price) / deal.arv : 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (spread &gt;= 0.4) score += 20; else if (spread &gt;= 0.3) score += 14; else if (spread &gt;= 0.2) score += 8;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if ((listing.daysOnMarket||0) &gt; 60) score += 10; else if ((listing.daysOnMarket||0) &gt; 30) score += 5;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (listing.listingType === 'Foreclosure' || listing.listingType === 'Short Sale') score += 15;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (listing.priceHistory &amp;&amp; listing.priceHistory.length &gt; 0) score += 8;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (census) { if (census.vacancyRate &gt;= 15) score += 7; if (census.medianIncome &lt; 45000) score += 5; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return Math.min(100, score);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function getDistressTags(prop, census) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const tags = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (prop.listingType === 'Foreclosure') tags.push({ label:'Foreclosure', cls:'tag-foreclosure' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (prop.listingType === 'Short Sale') tags.push({ label:'Short Sale', cls:'tag-shortsale' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (prop.priceHistory &amp;&amp; prop.priceHistory.length &gt; 0) tags.push({ label:'Price History', cls:'tag-pricedrop' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (census &amp;&amp; census.vacancyRate &gt;= 12) tags.push({ label:`${census.vacancyRate}% Vacancy`, cls:'tag-highvacancy' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (census &amp;&amp; census.medianIncome &lt; 45000) tags.push({ label:'Low Income Area', cls:'tag-lowincome' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if ((prop.daysOnMarket||999) &lt;= 7) tags.push({ label:'New Listing', cls:'tag-newlisting' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return tags;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ MAIN SEARCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">async function runSearch() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const location = document.getElementById('location').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!location) { alert('Please enter a city, state, or ZIP code'); return; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!KEYS.rentcast) { alert('Please enter your RentCast API key at the top'); return; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>saveFilters();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const filters = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>minPrice: parseInt(document.getElementById('minPrice').value) || 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>maxPrice: parseInt(document.getElementById('maxPrice').value) || 999999,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>minROI: parseFloat(document.getElementById('minROI').value) || 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>maxRehab: parseInt(document.getElementById('maxRehab').value) || 999999,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>minBeds: parseInt(document.getElementById('minBeds').value) || 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>maxDOM: parseInt(document.getElementById('maxDOM').value) || 999,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>listingType: document.getElementById('listingType').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>limit: parseInt(document.getElementById('resultLimit').value) || 25,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>rehabMethod: document.getElementById('rehabMethod').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const btn = document.getElementById('searchBtn');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>btn.disabled = true; btn.textContent = 'âŸ³ Searching...';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showLoading();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updatePill('rentcast', 'loading');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setStep(0, 'active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let listings;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>listings = await fetchListings(location, filters);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>updatePill('rentcast', 'connected');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>setStep(0, 'done');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch(e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>updatePill('rentcast', 'error');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>showError(e.message);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>btn.disabled = false; btn.textContent = 'âŸ¶ Analyze Deals';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!listings || listings.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>showError('No listings found. Try a different location or loosen your price range.');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>btn.disabled = false; btn.textContent = 'âŸ¶ Analyze Deals';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setStep(1, 'active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>updatePill('census', 'loading');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const zips = [...new Set(listings.map(l =&gt; l.zipCode).filter(Boolean))];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const censusResults = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>for (const zip of zips.slice(0, 6)) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const d = await getCensusData(zip);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (d) censusResults[zip] = d;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>updatePill('census', 'connected');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setStep(1, 'done');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setStep(2, 'active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const primaryZip = extractZip(location) || (zips[0] || null);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const marketData = await fetchMarketData(primaryZip);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setStep(2, 'done');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setStep(3, 'active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const rehabMethod = filters.rehabMethod;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const processed = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>for (const listing of listings) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if ((listing.daysOnMarket||0) &gt; filters.maxDOM) continue;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if ((listing.price||0) &lt; filters.minPrice || (listing.price||0) &gt; filters.maxPrice) continue;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (filters.minBeds &gt; 0 &amp;&amp; listing.bedrooms &amp;&amp; listing.bedrooms &lt; filters.minBeds) continue;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let arv;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (marketData?.saleData) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const med = marketData.saleData.medianListingPrice || marketData.saleData.averageListingPrice;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (med) arv = Math.round(med * (1.05 + Math.random() * 0.15));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!arv) arv = Math.round((listing.price||100000) * (1.3 + Math.random() * 0.25));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const rehabItems = estimateRehab(listing.squareFootage, rehabMethod);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const deal = calcDeal(listing.price, arv, rehabItems);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (deal.roi &lt; filters.minROI) continue;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (deal.rehabTotal &gt; filters.maxRehab) continue;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const census = censusResults[listing.zipCode] || null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const tags = getDistressTags(listing, census);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const score = calcScore(listing, deal, census);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const heat = deal.roi &gt;= 35 ? 'hot' : deal.roi &gt;= 22 ? 'warm' : 'cold';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>processed.push({ ...listing, ...deal, tags, score, heat, census, notes: '' });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setStep(3, 'done');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>currentProps = processed.sort((a,b) =&gt; b.roi - a.roi);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>renderResults(currentProps, marketData);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch(e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showError('Unexpected error: ' + e.message);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>btn.disabled = false; btn.textContent = 'âŸ¶ Analyze Deals';</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ LOADING UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function showLoading() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('mainContent').innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="loading-state"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="loader"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="loading-text"&gt;Pulling live deal data...&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="loading-steps"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="loading-step" id="step-0"&gt;â¬¡ Fetching listings from RentCast...&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="loading-step" id="step-1"&gt;â¬¡ Loading Census vacancy &amp; income data...&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="loading-step" id="step-2"&gt;â¬¡ Fetching market statistics...&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="loading-step" id="step-3"&gt;â¬¡ Calculating ROI &amp; deal scores...&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1">}</p>
<p class="p1">function setStep(n, state) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const el = document.getElementById(`step-${n}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!el) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (state === 'active') { el.className = 'loading-step active'; el.innerHTML = el.innerHTML.replace('â¬¡','â—ˆ'); }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (state === 'done') { el.className = 'loading-step done'; el.innerHTML = el.innerHTML.replace('â—ˆ','âœ“'); }</p>
<p class="p1">}</p>
<p class="p1">function showError(msg) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('mainContent').innerHTML = `&lt;div class="error-banner"&gt;âš  ${msg}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="empty-state"&gt;&lt;div class="empty-icon"&gt;âš &lt;/div&gt;&lt;div class="empty-title"&gt;Search failed&lt;/div&gt;&lt;div class="empty-sub"&gt;${msg}&lt;/div&gt;&lt;/div&gt;`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ RENDER RESULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function renderResults(props, marketData) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const el = document.getElementById('mainContent');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (props.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.innerHTML = `&lt;div class="empty-state"&gt;&lt;div class="empty-icon"&gt;ğŸ”&lt;/div&gt;&lt;div class="empty-title"&gt;No deals matched&lt;/div&gt;&lt;div class="empty-sub"&gt;Try lowering your Min ROI %, raising Max Rehab, or a different area.&lt;/div&gt;&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const avgROI = (props.reduce((s,p)=&gt;s+p.roi,0)/props.length).toFixed(1);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const avgProfit = Math.round(props.reduce((s,p)=&gt;s+p.netProfit,0)/props.length);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const hot = props.filter(p=&gt;p.heat==='hot').length;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const medianMarket = marketData?.saleData?.medianListingPrice;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>el.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="stats-bar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-cell"&gt;&lt;div class="stat-value"&gt;${props.length}&lt;/div&gt;&lt;div class="stat-label"&gt;Deals Found&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-cell"&gt;&lt;div class="stat-value"&gt;${avgROI}%&lt;/div&gt;&lt;div class="stat-label"&gt;Avg ROI&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-cell"&gt;&lt;div class="stat-value"&gt;$${fmtK(avgProfit)}&lt;/div&gt;&lt;div class="stat-label"&gt;Avg Profit&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-cell"&gt;&lt;div class="stat-value"&gt;${hot}&lt;/div&gt;&lt;div class="stat-label"&gt;ğŸ”¥ Hot Deals&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-cell"&gt;&lt;div class="stat-value"&gt;${medianMarket?'$'+fmtK(medianMarket):'â€”'}&lt;/div&gt;&lt;div class="stat-label"&gt;Market Median &lt;span class="source-badge"&gt;RentCast&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="results-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="results-title"&gt;${props.length} real listings analyzed&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;select class="sort-select" onchange="sortResults(this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;option value="roi"&gt;Sort: ROI â†“&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;option value="profit"&gt;Sort: Profit â†“&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;option value="price"&gt;Sort: Price â†‘&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;option value="score"&gt;Sort: Score â†“&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;option value="dom"&gt;Sort: DOM â†“&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="property-grid" id="propGrid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>${props.map((p,i) =&gt; renderCard(p,i)).join('')}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function renderCard(p, i) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const id = propId(p);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const watched = isWatched(p);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const roiCls = p.roi &gt;= 35 ? 'roi-positive' : p.roi &gt;= 20 ? 'roi-neutral' : 'roi-negative';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const tags = p.tags.map(t =&gt; `&lt;span class="tag ${t.cls}"&gt;${t.label}&lt;/span&gt;`).join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const addr = p.formattedAddress || p.addressLine1 || 'Unknown Address';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return `</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="property-card ${p.heat}${watched?' watched':''}" data-propid="${id}" style="animation-delay:${Math.min(i*0.04,0.5)}s" onclick="openDetail(${i})"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-address"&gt;${addr}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-meta"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;span&gt;${p.bedrooms||'?'}bd/${p.bathrooms||'?'}ba&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>${p.squareFootage ? `&lt;span&gt;${p.squareFootage.toLocaleString()} sqft&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>${p.yearBuilt ? `&lt;span&gt;Built ${p.yearBuilt}&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;span&gt;${p.daysOnMarket??'?'} DOM&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>${p.listingType &amp;&amp; p.listingType!=='Standard' ? `&lt;span class="source-badge"&gt;${p.listingType}&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-tags"&gt;${tags||'&lt;span class="tag tag-newlisting"&gt;Active&lt;/span&gt;'}${watched?'&lt;span class="tag tag-watched"&gt;â˜… Watching&lt;/span&gt;':''}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="score-bar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;span&gt;DEAL SCORE&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="score-track"&gt;&lt;div class="score-fill" style="width:${p.score}%"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;span&gt;${p.score}/100&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="prop-numbers"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-price"&gt;$${(p.price||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-arv"&gt;ARV: $${(p.arv||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-arv"&gt;Rehab: $${(p.rehabTotal||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-roi ${roiCls}"&gt;${(p.roi||0).toFixed(1)}% ROI&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="prop-arv" style="color:var(--success)"&gt;+$${fmtK(p.netProfit||0)} profit&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;button class="watch-btn ${watched?'active':''}" title="${watched?'Remove from watchlist':'Watch this property'}"</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>onclick="event.stopPropagation(); toggleWatch(currentProps[${currentProps.indexOf ? currentProps.indexOf(currentProps.find(x=&gt;propId(x)==='${id}')) : i}], false)"&gt;${watched?'â˜…':'â˜†'}&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function sortResults(by) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>let sorted = [...currentProps];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (by==='roi') sorted.sort((a,b)=&gt;b.roi-a.roi);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (by==='profit') sorted.sort((a,b)=&gt;b.netProfit-a.netProfit);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (by==='price') sorted.sort((a,b)=&gt;a.price-b.price);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (by==='score') sorted.sort((a,b)=&gt;b.score-a.score);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>else if (by==='dom') sorted.sort((a,b)=&gt;(b.daysOnMarket||0)-(a.daysOnMarket||0));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('propGrid').innerHTML = sorted.map((p,i)=&gt;renderCard(p,i)).join('');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ DETAIL PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function openDetail(idx) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>openDetailForProp(currentProps[idx], false, idx);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function openDetailForProp(p, fromWatchlist, idx) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>detailPropRef = p;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const watched = isWatched(p);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const roiCls = p.roi &gt;= 35 ? 'roi-positive' : p.roi &gt;= 20 ? 'roi-neutral' : 'roi-negative';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const addr = p.formattedAddress || p.addressLine1 || 'Unknown Address';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const tags = (p.tags||[]).map(t=&gt;`&lt;span class="tag ${t.cls}"&gt;${t.label}&lt;/span&gt;`).join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const rehabRows = (p.rehabItems||[]).map(r=&gt;`&lt;tr&gt;&lt;td&gt;${r.name}&lt;/td&gt;&lt;td style="text-align:right;font-family:'DM Mono',monospace"&gt;$${r.cost.toLocaleString()}&lt;/td&gt;&lt;/tr&gt;`).join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const rehabTotal = `&lt;tr class="total-row"&gt;&lt;td&gt;TOTAL REHAB&lt;/td&gt;&lt;td style="text-align:right"&gt;$${(p.rehabTotal||0).toLocaleString()}&lt;/td&gt;&lt;/tr&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const censusHtml = p.census ? `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="section-title"&gt;Neighborhood Data &lt;span class="source-badge"&gt;Census ACS 5yr&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="census-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="census-cell"&gt;&lt;div class="dm-label"&gt;Vacancy Rate&lt;/div&gt;&lt;div class="dm-value" style="font-size:1.1rem"&gt;${p.census.vacancyRate??'N/A'}%&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="census-cell"&gt;&lt;div class="dm-label"&gt;Median Income&lt;/div&gt;&lt;div class="dm-value" style="font-size:1.1rem"&gt;$${p.census.medianIncome?.toLocaleString()??'N/A'}&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="census-cell"&gt;&lt;div class="dm-label"&gt;Total Units&lt;/div&gt;&lt;div class="dm-value" style="font-size:1.1rem"&gt;${p.census.totalUnits?.toLocaleString()??'N/A'}&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;` : '';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const historyHtml = p.priceHistory?.length &gt; 0 ? `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="section-title"&gt;Price History&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="waterfall"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>${p.priceHistory.map(h=&gt;`&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;${h.event||h.date||''}&lt;/span&gt;&lt;span class="wf-value"&gt;$${h.price?.toLocaleString()||'â€”'}&lt;/span&gt;&lt;/div&gt;`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;` : '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Stage selector if already watched</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const stageHtml = watched ? `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div style="margin-top:14px"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-title"&gt;Pipeline Stage&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;select class="stage-select" style="width:100%;max-width:200px" onchange="updateStage('${propId(p)}', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>${PIPELINE_STAGES.map(s=&gt;`&lt;option value="${s}" ${(watchlist[propId(p)]?._stage||'Researching')===s?'selected':''}&gt;${s}&lt;/option&gt;`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;` : '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('detailPanel').innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="detail-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div style="flex:1;min-width:0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="detail-address"&gt;${addr}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="prop-meta" style="margin-bottom:5px"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span&gt;${p.bedrooms||'?'}bd/${p.bathrooms||'?'}ba&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>${p.squareFootage?`&lt;span&gt;${p.squareFootage.toLocaleString()} sqft&lt;/span&gt;`:''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>${p.yearBuilt?`&lt;span&gt;Built ${p.yearBuilt}&lt;/span&gt;`:''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span&gt;${p.daysOnMarket??'?'} DOM&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="display:flex;gap:5px;flex-wrap:wrap"&gt;${tags}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="detail-header-actions"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="watch-toggle-btn ${watched?'watching':''}" id="detail-watch-btn" onclick="toggleWatch(detailPropRef, true)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>${watched?'â˜… Watching':'â˜† Add to Watchlist'}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="close-btn" onclick="closeDetail()"&gt;âœ•&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="detail-body"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="detail-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="detail-metric"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-label"&gt;Ask Price &lt;span class="source-badge"&gt;RentCast&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-value"&gt;$${(p.price||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-sub"&gt;MLS listed price&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="detail-metric"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-label"&gt;ARV Estimate&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-value"&gt;$${(p.arv||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-sub"&gt;Market-adjusted&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="detail-metric"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-label"&gt;Net Profit&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-value ${roiCls}"&gt;$${(p.netProfit||0).toLocaleString()}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="dm-sub"&gt;${(p.roi||0).toFixed(1)}% ROI&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-title"&gt;Profit Waterfall&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="waterfall"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;ARV (sell price)&lt;/span&gt;&lt;span class="wf-value"&gt;$${(p.arv||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;â€” Purchase Price&lt;/span&gt;&lt;span class="wf-value" style="color:var(--danger)"&gt;-$${(p.price||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;â€” Rehab Costs&lt;/span&gt;&lt;span class="wf-value" style="color:var(--danger)"&gt;-$${(p.rehabTotal||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;â€” Holding Costs (~3%)&lt;/span&gt;&lt;span class="wf-value" style="color:var(--danger)"&gt;-$${(p.holdingCosts||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;â€” Buy Closing (~2%)&lt;/span&gt;&lt;span class="wf-value" style="color:var(--danger)"&gt;-$${(p.closingBuy||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;â€” Sell Closing (~6%)&lt;/span&gt;&lt;span class="wf-value" style="color:var(--danger)"&gt;-$${(p.closingSell||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row profit"&gt;&lt;span class="wf-label"&gt;= NET PROFIT&lt;/span&gt;&lt;span class="wf-value"&gt;$${(p.netProfit||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;Total Invested&lt;/span&gt;&lt;span class="wf-value"&gt;$${(p.totalInvested||0).toLocaleString()}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="wf-row"&gt;&lt;span class="wf-label"&gt;ROI&lt;/span&gt;&lt;span class="wf-value ${roiCls}"&gt;${(p.roi||0).toFixed(1)}%&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-title"&gt;Rehab Breakdown&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;table class="rehab-table"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Category&lt;/th&gt;&lt;th style="text-align:right"&gt;Est. Cost&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;tbody&gt;${rehabRows}${rehabTotal}&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>${censusHtml}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>${historyHtml}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>${stageHtml}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="section-title" style="margin-top:18px"&gt;Deal Notes&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;textarea class="notes-area" id="detailNotes" placeholder="Due diligence notes, inspection concerns, offer strategy..."&gt;${(watched?watchlist[propId(p)]?.notes:'')||p.notes||''}&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="detail-footer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="save-btn" onclick="saveDetailNotes()"&gt;Save Notes&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>${watched?`&lt;button class="btn-danger" onclick="removeFromWatchlist('${propId(p)}');closeDetail()"&gt;Remove from Watchlist&lt;/button&gt;`:''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('detailOverlay').classList.add('open');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function saveDetailNotes() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const p = detailPropRef;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!p) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const notes = document.getElementById('detailNotes').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>p.notes = notes;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const id = propId(p);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (watchlist[id]) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>watchlist[id].notes = notes;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem(LS_WATCH, JSON.stringify(watchlist));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const btn = document.querySelector('.save-btn');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>btn.textContent = 'âœ“ Saved';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>setTimeout(() =&gt; btn.textContent = 'Save Notes', 1500);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showToast('Notes saved', 'success');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function closeDetail(e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!e || e.target === document.getElementById('detailOverlay')) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('detailOverlay').classList.remove('open');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>detailPropRef = null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p1">document.addEventListener('keydown', e =&gt; { if (e.key === 'Escape') closeDetail(); });</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">let toastTimeout;</p>
<p class="p1">function showToast(msg, type='') {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const existing = document.querySelector('.toast');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (existing) existing.remove();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const t = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>t.className = `toast ${type}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>t.textContent = msg;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.body.appendChild(t);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>clearTimeout(toastTimeout);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>toastTimeout = setTimeout(() =&gt; t.remove(), 2200);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// â”€â”€â”€ UTILS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function fmtK(n) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (Math.abs(n) &gt;= 1000) return (n/1000).toFixed(1)+'K';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return Math.round(n).toLocaleString();</p>
<p class="p1">}</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
